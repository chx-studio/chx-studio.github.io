# Android 四大组件

## 安卓四大组件简述

- **Activity** 是一个应用程序组件，提供一个屏幕，用户可以用来交互为了完成某项任务。
- **Service** 是在一段不定的时间运行在后台，不和用户交互应用组件。
- **BroadcastReceiver** 用来接收来自系统和应用中的广播。我们能根据这些广播实现不同情况下的功能。
- **ContentProvider** 为存储和获取数据提供统一的接口。可以在不同的应用程序之间共享数据。

## Activity 生命周期

有 2 个 Activity， A、B：

1. 启动 A，生命周期函数的调用次序是：
    - `A.onCreate >> A.onStart >> A.onResume`
2. 点击打开 B 时，调用次序是：
    - `A.onPause`
    - _ `B.onCreate >> B.onStart >> B.onResume`
    - `A.onStop`
3. 点击返回到 A，调用次序是：
    - _`B.onPause`
    - `A.onRestart >> A.onStart >> A.onResume`
    - _`B.onStop >> B.onDestroy`

因为 Activity 只有在调用 onResume() 方法的时候，才能真正在屏幕上显示出来。所以一般来说，当一个 Activity 的 onResume() 被执行之后，紧接着都会调用上一个 Activity.onStop() —— 半透明的 Activity 除外。

## Activity 启动模式

- standard：默认标准模式，每启动一个都会创建一个实例，
- singleTop：栈顶复用，如果在栈顶就调用 onNewIntent 复用，从 onResume() 开始
- singleTask：栈内复用，本栈内只要用该类型Activity就会调到栈顶复用，从 onResume() 开始
- singleInstance：单例模式，除了 singleTask 的特性外，系统会单独给该 Activity 创建一个栈

## Service 启动方法

| Service 启动方法 | 停止方法 | 区别 |
| ------------- | ------ | --------------------- |
| startService() | stopService() | 启动一个服务执行后台任务，不进行通信 |
| bindService() | unbindService() | 启动一个服务并与之通信 |